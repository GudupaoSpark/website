---
import Layout from '../layouts/Layout.astro';
import { getTranslator } from '@gudupao/astro-i18n';
const lang = Astro.params.lang || 'en';
const t = getTranslator(lang);

// Get the current URL path that caused the 404
const currentPath = Astro.url.pathname;
const requestedPath = currentPath === '/' ? '/' : currentPath;
---

<Layout title={`${t('404.title')} | ${t('layout.title')}`}>
	<div class="min-h-screen flex items-center justify-center bg-white dark:bg-slate-900 pt-20">
		<div class="text-center px-4">
			<div class="mb-8">
				<h1 class="text-4xl md:text-6xl lg:text-7xl font-bold text-gray-300 dark:text-gray-600 mb-4">404</h1>
				<h2 class="text-xl md:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4">
					{t('404.heading')}
				</h2>
				<div class="bg-gray-100 dark:bg-slate-800 rounded-lg px-4 py-2 mb-4 inline-block">
					<code class="text-sm text-gray-600 dark:text-gray-400 font-mono">
						{requestedPath}
					</code>
				</div>
				<p class="text-base md:text-lg text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto">
					{t('404.description')}
				</p>
			</div>

			<div class="space-y-4">
				<a href={`/${lang || 'en'}`}
				   class="inline-block px-8 py-3 bg-[#fedd58] dark:bg-yellow-500 text-gray-900 dark:text-gray-900 font-roboto font-bold rounded-lg shadow-lg hover:bg-[#fedd58]/80 dark:hover:bg-yellow-600 transition-all duration-300 hover:shadow-xl transform hover:-translate-y-1">
					{t('404.backHome')}
				</a>

				<div class="block">
					<a href={`/${lang || 'en'}/explore`}
					   class="inline-block px-6 py-2 text-gray-600 dark:text-gray-400 hover:text-yellow-400 dark:hover:text-yellow-300 transition-colors duration-200 font-roboto font-medium">
						{t('404.explore')}
					</a>
				</div>
			</div>

			<!-- Fun 404 illustration -->
			<div class="mt-12 relative">
				<div class="absolute inset-0 bg-gradient-to-r from-yellow-400/20 to-yellow-600/20 dark:from-yellow-500/10 dark:to-yellow-700/10 rounded-full blur-3xl"></div>
				<svg class="w-24 h-24 md:w-32 md:h-32 mx-auto text-yellow-500 dark:text-yellow-400 relative z-10 opacity-80" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-.98-5.5-2.5M12 4.5c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5z"></path>
				</svg>
				<div class="mt-4 text-sm text-gray-500 dark:text-gray-400 font-medium lost-text">
					{t('404.lost')}
				</div>
			</div>
		</div>
	</div>
</Layout>

<style>
	/* Custom animations for 404 page */
	@keyframes float {
		0%, 100% { transform: translateY(0px); }
		50% { transform: translateY(-10px); }
	}

	@keyframes glow {
		0%, 100% { opacity: 0.6; transform: scale(1); }
		50% { opacity: 1; transform: scale(1.05); }
	}

	svg {
		animation: float 3s ease-in-out infinite;
	}

	.lost-text {
		animation: glow 2s ease-in-out infinite;
	}
</style>